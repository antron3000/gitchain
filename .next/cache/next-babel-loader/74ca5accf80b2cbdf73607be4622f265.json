{"ast":null,"code":"var _jsxFileName = \"/home/hrishib/Desktop/gitchain/pages/users/index.js\";\nvar __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from \"react\";\nimport Layout from \"../../components/Layout\";\nimport web3 from \"../../ethereum/web3\";\nimport projhub from \"../../ethereum/projhub\";\nimport { Container, List } from \"semantic-ui-react\";\nimport { Link } from \"../../routes\";\n\nclass Users extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      users: [],\n      userCount: 0,\n      usersList: []\n    });\n\n    _defineProperty(this, \"renderUsers\", () => {\n      const usersList = this.state.users.map((user, index) => {\n        return __jsx(List.Item, {\n          key: index,\n          style: {\n            marginBottom: \"10px\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 35\n          },\n          __self: this\n        }, __jsx(List.Content, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 36\n          },\n          __self: this\n        }, __jsx(List.Header, {\n          style: {\n            color: \"teal\",\n            fontSize: \"16px\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 37\n          },\n          __self: this\n        }, __jsx(Link, {\n          route: `/users/${index}`,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 38\n          },\n          __self: this\n        }, __jsx(\"a\", {\n          style: {\n            color: \"teal\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 39\n          },\n          __self: this\n        }, user.name))), __jsx(List.Description, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 42\n          },\n          __self: this\n        }, __jsx(\"div\", {\n          style: {\n            marginTop: \"5px\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 43\n          },\n          __self: this\n        }, __jsx(\"p\", {\n          style: {\n            marginBottom: \"0px\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 44\n          },\n          __self: this\n        }, \"Address: \", user.owner), __jsx(\"p\", {\n          style: {\n            marginTop: \"0px\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 45\n          },\n          __self: this\n        }, \"Projects: \", user.projCount)))));\n      });\n      this.setState({\n        usersList: usersList\n      });\n    });\n  }\n\n  async componentDidMount() {\n    const accs = await web3.eth.getAccounts();\n    const userCount = await projhub.methods.userCount().call();\n    let users = [];\n\n    for (var i = 0; i < userCount; i++) {\n      const user = await projhub.methods.users(i).call();\n      users.push(user);\n    }\n\n    console.log(users);\n    this.setState({\n      account: accs[0],\n      userCount: userCount,\n      users: users\n    });\n    this.renderUsers();\n  }\n\n  render() {\n    return __jsx(Layout, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, __jsx(Container, {\n      style: {\n        padding: \"10px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, __jsx(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, \"Users\"), __jsx(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }), __jsx(List, {\n      divided: true,\n      items: this.state.usersList,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default Users; // style={{marginBottom:\"10px\", padding:\"10px\", border:\"1px solid\", borderColour:\"grey\"}}","map":{"version":3,"sources":["/home/hrishib/Desktop/gitchain/pages/users/index.js"],"names":["React","Component","Layout","web3","projhub","Container","List","Link","Users","users","userCount","usersList","state","map","user","index","marginBottom","color","fontSize","name","marginTop","owner","projCount","setState","componentDidMount","accs","eth","getAccounts","methods","call","i","push","console","log","account","renderUsers","render","padding"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Layout from \"../../components/Layout\";\nimport web3 from \"../../ethereum/web3\";\nimport projhub from \"../../ethereum/projhub\";\nimport { Container, List } from \"semantic-ui-react\";\nimport {Link} from \"../../routes\";\n\nclass Users extends Component {\n\n  state = {\n    users: [],\n    userCount: 0,\n    usersList: []\n  }\n\n  async componentDidMount() {\n    const accs = await web3.eth.getAccounts();\n    const userCount = await projhub.methods.userCount().call();\n\n    let users = [];\n    for(var i=0; i<userCount; i++) {\n      const user = await projhub.methods.users(i).call();\n      users.push(user);\n    }\n    console.log(users);\n    this.setState({ account: accs[0], userCount: userCount, users: users });\n\n    this.renderUsers();\n\n  }\n\n  renderUsers = () => {\n    const usersList = this.state.users.map((user, index) => {\n      return (\n        <List.Item key={index} style={{marginBottom:\"10px\"}}>\n          <List.Content>\n            <List.Header style={{color:\"teal\", fontSize:\"16px\"}}>\n              <Link route={`/users/${index}`}>\n                <a style={{color:\"teal\"}}>{user.name}</a>\n              </Link>\n            </List.Header>\n            <List.Description>\n              <div style={{marginTop:\"5px\"}}>\n                <p style={{marginBottom:\"0px\"}}>Address: {user.owner}</p>\n                <p style={{marginTop:\"0px\"}}>Projects: {user.projCount}</p>\n              </div>\n            </List.Description>\n          </List.Content>\n        </List.Item>\n      );\n    });\n\n    this.setState({ usersList: usersList });\n  }\n\n  render() {\n    return (\n      <Layout>\n        <Container style={{padding:\"10px\"}}>\n          <h3>Users</h3>\n          <hr/>\n          <List divided items={this.state.usersList}/>\n        </Container>\n      </Layout>\n    );\n  }\n}\n\nexport default Users;\n\n// style={{marginBottom:\"10px\", padding:\"10px\", border:\"1px solid\", borderColour:\"grey\"}}"]},"metadata":{},"sourceType":"module"}