{"ast":null,"code":"var _jsxFileName = \"/home/hrishib/Desktop/gitchain/pages/projects/index.js\";\nvar __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from \"react\";\nimport Layout from \"../../components/Layout\";\nimport projhub from \"../../ethereum/projhub\";\nimport web3 from \"../../ethereum/web3\";\nimport { Router, Link } from \"../../routes\";\nimport { List, Container } from \"semantic-ui-react\";\n\nclass ShowProject extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      projId: 0,\n      projName: \"\",\n      projTime: \"\",\n      projFileHashes: [],\n      projDescription: \"\",\n      projFileNames: [],\n      files: []\n    });\n\n    _defineProperty(this, \"renderFiles\", async () => {\n      const files = this.state.projFileNames.map((file, index) => {\n        let hash = this.state.projFileHashes[index];\n        let projId = this.state.projId;\n        return __jsx(List.Item, {\n          key: index,\n          style: {\n            padding: \"10px\",\n            border: \"1px solid\",\n            borderColor: \"lightgrey\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 50\n          },\n          __self: this\n        }, __jsx(List.Content, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58\n          },\n          __self: this\n        }, __jsx(List.Header, {\n          style: {\n            fontSize: \"16px\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        }, __jsx(Link, {\n          route: `/projects/${projId}/${index}`,\n          params: {\n            projName: this.state.projName\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60\n          },\n          __self: this\n        }, __jsx(\"a\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        }, file)))));\n      });\n      this.setState({\n        files: files\n      });\n    });\n  }\n\n  static getInitialProps(props) {\n    return {\n      projId: props.query.id\n    };\n  }\n\n  async componentDidMount() {\n    const projId = this.props.projId;\n    const accounts = await web3.eth.getAccounts();\n    const projDetails = await projhub.methods.getProjectDetails(accounts[0], projId).call();\n    this.setState({\n      projId: projId,\n      projName: projDetails[1],\n      projTime: projDetails[2],\n      projDescription: projDetails[3],\n      projFileHashes: projDetails[4],\n      projFileNames: projDetails[5]\n    });\n    console.log(projId);\n    this.renderFiles();\n  }\n\n  render() {\n    return __jsx(Layout, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, __jsx(Container, {\n      style: {\n        padding: \"10px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, __jsx(\"h3\", {\n      style: {\n        color: \"grey\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, this.state.projName, \" /\"), __jsx(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }), __jsx(List, {\n      items: this.state.files,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }), __jsx(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }), __jsx(\"div\", {\n      style: {\n        padding: \"10px\",\n        border: \"1px solid\",\n        borderColor: \"lightgrey\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, __jsx(\"h4\", {\n      style: {\n        color: \"grey\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, \"Description\"), __jsx(\"p\", {\n      style: {\n        fontSize: \"15px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, this.state.projDescription))));\n  }\n\n}\n\nexport default ShowProject;","map":null,"metadata":{},"sourceType":"module"}