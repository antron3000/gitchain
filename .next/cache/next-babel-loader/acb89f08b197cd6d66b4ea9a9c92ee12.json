{"ast":null,"code":"var _jsxFileName = \"/home/hrishib/Desktop/gitchain/pages/users/index.js\";\nvar __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from \"react\";\nimport Layout from \"../../components/Layout\";\nimport web3 from \"../../ethereum/web3\";\nimport projhub from \"../../ethereum/projhub\";\nimport { Container, List } from \"semantic-ui-react\";\nimport { Link } from \"../../routes\";\n\nclass Users extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      users: [],\n      userCount: 0,\n      usersList: []\n    });\n\n    _defineProperty(this, \"renderUsers\", () => {\n      const usersList = this.state.users.map((user, index) => {\n        return __jsx(List.Item, {\n          key: index,\n          style: {\n            marginBottom: \"10px\",\n            padding: \"10px\",\n            border: \"1px solid\",\n            borderColour: \"lightgrey\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 35\n          },\n          __self: this\n        }, __jsx(List.Content, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 36\n          },\n          __self: this\n        }, __jsx(List.Header, {\n          style: {\n            color: \"teal\",\n            fontSize: \"16px\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 37\n          },\n          __self: this\n        }, __jsx(Link, {\n          route: `/users/${index}`,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 38\n          },\n          __self: this\n        }, __jsx(\"a\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 39\n          },\n          __self: this\n        }, user.name))), __jsx(List.Description, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 42\n          },\n          __self: this\n        }, __jsx(\"div\", {\n          style: {\n            marginTop: \"5px\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 43\n          },\n          __self: this\n        }, __jsx(\"p\", {\n          style: {\n            marginBottom: \"0px\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 44\n          },\n          __self: this\n        }, \"Address: \", user.owner), __jsx(\"p\", {\n          style: {\n            marginTop: \"0px\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 45\n          },\n          __self: this\n        }, \"Projects: \", user.projCount)))));\n      });\n      this.setState({\n        usersList: usersList\n      });\n    });\n  }\n\n  async componentDidMount() {\n    const accs = await web3.eth.getAccounts();\n    const userCount = await projhub.methods.userCount().call();\n    let users = [];\n\n    for (var i = 0; i < userCount; i++) {\n      const user = await projhub.methods.users(i).call();\n      users.push(user);\n    }\n\n    console.log(users);\n    this.setState({\n      account: accs[0],\n      userCount: userCount,\n      users: users\n    });\n    this.renderUsers();\n  }\n\n  render() {\n    return __jsx(Layout, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, __jsx(Container, {\n      style: {\n        padding: \"10px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, __jsx(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, \"Users\"), __jsx(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }), __jsx(List, {\n      items: this.state.usersList,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default Users;","map":null,"metadata":{},"sourceType":"module"}